{"id":"b38590e3-3851-458b-8bbf-92bf9423ee0d","revision":0,"last_node_id":287,"last_link_id":622,"nodes":[{"id":254,"type":"VAEDecode","pos":[-1124.7359619140625,530.4362182617188],"size":[140,46],"flags":{"collapsed":true},"order":36,"mode":0,"inputs":[{"label":"samples","localized_name":"Latent","name":"samples","type":"LATENT","link":555},{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":556}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[576,585]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"VAEDecode","widget_ue_connectable":{}},"widgets_values":[]},{"id":273,"type":"CropFace","pos":[-1705.1976318359375,-258.35443115234375],"size":[255.1360321044922,75.3798599243164],"flags":{},"order":23,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":606},{"localized_name":"facedetection","name":"facedetection","type":"COMBO","widget":{"name":"facedetection"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[608]}],"properties":{"cnr_id":"facerestore_cf","ver":"ff4d7a5c102441d8f058dd6135797ffb57b6c6ad","Node name for S&R":"CropFace","widget_ue_connectable":{}},"widgets_values":["retinaface_resnet50"]},{"id":203,"type":"easy imageColorMatch","pos":[-221.86167907714844,-417.7413635253906],"size":[271.5166320800781,102],"flags":{"collapsed":false},"order":37,"mode":0,"inputs":[{"label":"image_ref","localized_name":"参考图像","name":"image_ref","type":"IMAGE","link":416},{"label":"image_target","localized_name":"目标图像","name":"image_target","type":"IMAGE","link":576},{"localized_name":"方法","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"localized_name":"图像输出","name":"image_output","type":"COMBO","widget":{"name":"image_output"},"link":null},{"localized_name":"save_prefix","name":"save_prefix","type":"STRING","widget":{"name":"save_prefix"},"link":null}],"outputs":[{"label":"image","localized_name":"图像","name":"image","type":"IMAGE","slot_index":0,"links":[534]}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.3.3","Node name for S&R":"easy imageColorMatch","widget_ue_connectable":{}},"widgets_values":["adain","Hide","ComfyUI"]},{"id":277,"type":"GetImageSize+","pos":[-2183.46435546875,-743.92529296875],"size":[437.7767333984375,96.1332778930664],"flags":{},"order":12,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":597}],"outputs":[{"label":"width","localized_name":"width","name":"width","type":"INT","slot_index":0,"links":[598]},{"label":"height","localized_name":"height","name":"height","type":"INT","slot_index":1,"links":[599]},{"label":"count","localized_name":"count","name":"count","type":"INT"}],"properties":{"cnr_id":"comfyui_essentials","ver":"9d9f4bedfc9f0321c19faf71855e228c93bd0dc9","Node name for S&R":"GetImageSize+","widget_ue_connectable":{}},"widgets_values":[]},{"id":278,"type":"LayerUtility: ColorImage","pos":[-1740.788818359375,-1090.927001953125],"size":[436.66864013671875,306.3089599609375],"flags":{},"order":17,"mode":0,"inputs":[{"label":"width","localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":598},{"label":"height","localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":599},{"localized_name":"color","name":"color","type":"STRING","widget":{"name":"color"},"link":null}],"outputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[602]}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"1.0.90","Node name for S&R":"LayerUtility: ColorImage","widget_ue_connectable":{"width":true,"height":true}},"widgets_values":[512,512,"#FFFFFF"],"color":"rgba(38, 73, 116, 0.7)"},{"id":279,"type":"SplitImageWithAlpha","pos":[-1740.1614990234375,-745.9192504882812],"size":[437.91033935546875,91.3163833618164],"flags":{},"order":13,"mode":0,"inputs":[{"label":"image","localized_name":"图片","name":"image","type":"IMAGE","link":600}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[603]},{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK"}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"SplitImageWithAlpha","widget_ue_connectable":{}},"widgets_values":[]},{"id":281,"type":"PreviewImage","pos":[-867.8823852539062,-1085.6553955078125],"size":[371.2559509277344,430.10382080078125],"flags":{},"order":22,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":601}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":280,"type":"easy imageRemBg","pos":[-2185.711669921875,-1088.9486083984375],"size":[436.5056457519531,362],"flags":{},"order":7,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":605},{"localized_name":"移除模式","name":"rem_mode","type":"COMBO","widget":{"name":"rem_mode"},"link":null},{"localized_name":"图像输出","name":"image_output","type":"COMBO","widget":{"name":"image_output"},"link":null},{"localized_name":"save_prefix","name":"save_prefix","type":"STRING","widget":{"name":"save_prefix"},"link":null},{"localized_name":"torchscript_jit","name":"torchscript_jit","shape":7,"type":"BOOLEAN","widget":{"name":"torchscript_jit"},"link":null},{"localized_name":"添加背景","name":"add_background","shape":7,"type":"COMBO","widget":{"name":"add_background"},"link":null},{"localized_name":"优化前景","name":"refine_foreground","shape":7,"type":"BOOLEAN","widget":{"name":"refine_foreground"},"link":null}],"outputs":[{"label":"image","localized_name":"图像","name":"image","type":"IMAGE","slot_index":0,"links":[597,600]},{"label":"mask","localized_name":"遮罩","name":"mask","type":"MASK","slot_index":1,"links":[604]}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.3.3","Node name for S&R":"easy imageRemBg","widget_ue_connectable":{}},"widgets_values":["RMBG-1.4","Preview","ComfyUI",false,"none",""]},{"id":271,"type":"LoadImage","pos":[-3138.791259765625,-1080.447509765625],"size":[723.1136474609375,998.48486328125],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[588,595,605]},{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK"}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["photo_2025-10-09_21-27-33.jpg","image"]},{"id":265,"type":"SetLatentNoiseMask","pos":[-1578.2203369140625,690.70068359375],"size":[227.19190979003906,46],"flags":{"collapsed":true},"order":34,"mode":0,"inputs":[{"label":"samples","localized_name":"Latent","name":"samples","type":"LATENT","link":571},{"label":"mask","localized_name":"遮罩","name":"mask","type":"MASK","link":573}],"outputs":[{"label":"LATENT","localized_name":"Latent","name":"LATENT","type":"LATENT","slot_index":0,"links":[572]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"SetLatentNoiseMask","widget_ue_connectable":{}},"widgets_values":[]},{"id":249,"type":"CLIPTextEncode","pos":[-1872.3079833984375,921.1386108398438],"size":[400,200],"flags":{"collapsed":false},"order":10,"mode":0,"inputs":[{"label":"clip","localized_name":"clip","name":"clip","type":"CLIP","link":548},{"localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[547]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":["blur, noise"]},{"id":263,"type":"MaskPreview+","pos":[-652.6555786132812,94.40164947509766],"size":[288.50518798828125,365.21856689453125],"flags":{},"order":28,"mode":0,"inputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":570}],"outputs":[],"properties":{"cnr_id":"comfyui_essentials","ver":"9d9f4bedfc9f0321c19faf71855e228c93bd0dc9","Node name for S&R":"MaskPreview+","widget_ue_connectable":{}},"widgets_values":[]},{"id":260,"type":"MaskFastGrow","pos":[-1474.447509765625,43.57198715209961],"size":[246.69082641601562,178],"flags":{"collapsed":false},"order":24,"mode":0,"inputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":566},{"localized_name":"invert_mask","name":"invert_mask","type":"BOOLEAN","widget":{"name":"invert_mask"},"link":null},{"localized_name":"grow","name":"grow","type":"INT","widget":{"name":"grow"},"link":null},{"localized_name":"blur","name":"blur","type":"INT","widget":{"name":"blur"},"link":null},{"localized_name":"low_limit","name":"low_limit","shape":7,"type":"FLOAT","widget":{"name":"low_limit"},"link":null},{"localized_name":"high_limit","name":"high_limit","shape":7,"type":"FLOAT","widget":{"name":"high_limit"},"link":null},{"localized_name":"enabled","name":"enabled","shape":7,"type":"BOOLEAN","widget":{"name":"enabled"},"link":null}],"outputs":[{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":0,"links":[568]}],"properties":{"cnr_id":"comfyui-utils-nodes","ver":"1.3.7","Node name for S&R":"MaskFastGrow","widget_ue_connectable":{}},"widgets_values":[false,16,8,0,1,true]},{"id":261,"type":"MaskFastGrow","pos":[-1380.6029052734375,251.54833984375],"size":[247.9782257080078,178],"flags":{},"order":25,"mode":0,"inputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":567},{"localized_name":"invert_mask","name":"invert_mask","type":"BOOLEAN","widget":{"name":"invert_mask"},"link":null},{"localized_name":"grow","name":"grow","type":"INT","widget":{"name":"grow"},"link":null},{"localized_name":"blur","name":"blur","type":"INT","widget":{"name":"blur"},"link":null},{"localized_name":"low_limit","name":"low_limit","shape":7,"type":"FLOAT","widget":{"name":"low_limit"},"link":null},{"localized_name":"high_limit","name":"high_limit","shape":7,"type":"FLOAT","widget":{"name":"high_limit"},"link":null},{"localized_name":"enabled","name":"enabled","shape":7,"type":"BOOLEAN","widget":{"name":"enabled"},"link":null}],"outputs":[{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":0,"links":[569]}],"properties":{"cnr_id":"comfyui-utils-nodes","ver":"1.3.7","Node name for S&R":"MaskFastGrow","widget_ue_connectable":{}},"widgets_values":[false,-16,8,0,1,true]},{"id":100,"type":"LoadImage","pos":[-3141.379150390625,58.71455383300781],"size":[737.2442626953125,901.6648559570312],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[254,607,610]},{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":1,"links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["photo_2025-10-09_20-35-32.jpg","image"]},{"id":284,"type":"ConstrainImage|pysssss","pos":[-2382.75439453125,-19.438425064086914],"size":[224.18313598632812,336.4905090332031],"flags":{},"order":8,"mode":0,"inputs":[{"label":"images","localized_name":"images","name":"images","type":"IMAGE","link":610},{"localized_name":"max_width","name":"max_width","type":"INT","widget":{"name":"max_width"},"link":null},{"localized_name":"max_height","name":"max_height","type":"INT","widget":{"name":"max_height"},"link":null},{"localized_name":"min_width","name":"min_width","type":"INT","widget":{"name":"min_width"},"link":null},{"localized_name":"min_height","name":"min_height","type":"INT","widget":{"name":"min_height"},"link":null},{"localized_name":"crop_if_required","name":"crop_if_required","type":"COMBO","widget":{"name":"crop_if_required"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","shape":6,"type":"IMAGE","links":[611,612]}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"9f7b3215e6af317603056a9a1666bf6e83e28835","Node name for S&R":"ConstrainImage|pysssss","widget_ue_connectable":{}},"widgets_values":[1280,1280,0,0,"no"]},{"id":282,"type":"ImageCompositeMasked","pos":[-1295.9681396484375,-1086.194580078125],"size":[419.53436279296875,431.3020324707031],"flags":{},"order":19,"mode":0,"inputs":[{"label":"destination","localized_name":"目标图像","name":"destination","type":"IMAGE","link":602},{"label":"source","localized_name":"来源图像","name":"source","type":"IMAGE","link":603},{"label":"mask","localized_name":"遮罩","name":"mask","shape":7,"type":"MASK","link":604},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"缩放来源图像","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[601,606]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ImageCompositeMasked","widget_ue_connectable":{}},"widgets_values":[0,0,false]},{"id":86,"type":"InstantIDModelLoader","pos":[-1710.0003662109375,-539.2906494140625],"size":[260.9809265136719,58],"flags":{"collapsed":false},"order":2,"mode":0,"inputs":[{"localized_name":"instantid_file","name":"instantid_file","type":"COMBO","widget":{"name":"instantid_file"},"link":null}],"outputs":[{"label":"INSTANTID","localized_name":"INSTANTID","name":"INSTANTID","type":"INSTANTID","slot_index":0,"links":[134]}],"properties":{"cnr_id":"comfyui_sunxai_facetools","ver":"0.2.1","Node name for S&R":"InstantIDModelLoader","ttNbgOverride":{"groupcolor":"#444","color":"rgba(0,0,0,.8)"},"widget_ue_connectable":{}},"widgets_values":["ip-adapter.bin"]},{"id":88,"type":"ControlNetLoader","pos":[-1708.668701171875,-352.9971923828125],"size":[259.12957763671875,58],"flags":{"collapsed":false},"order":3,"mode":0,"inputs":[{"localized_name":"ControlNet名称","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null}],"outputs":[{"label":"CONTROL_NET","localized_name":"ControlNet","name":"CONTROL_NET","type":"CONTROL_NET","slot_index":0,"links":[136]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ControlNetLoader","ttNbgOverride":{"groupcolor":"#444","color":"rgba(0,0,0,.8)"},"widget_ue_connectable":{}},"widgets_values":["diffusion_pytorch_model.safetensors"]},{"id":87,"type":"InstantIDFaceAnalysis","pos":[-1690.8702392578125,-441.1441345214844],"size":[261.36212158203125,58],"flags":{"collapsed":false},"order":4,"mode":0,"inputs":[{"localized_name":"provider","name":"provider","type":"COMBO","widget":{"name":"provider"},"link":null}],"outputs":[{"label":"FACEANALYSIS","localized_name":"FACEANALYSIS","name":"FACEANALYSIS","type":"FACEANALYSIS","slot_index":0,"links":[135]}],"properties":{"cnr_id":"comfyui_sunxai_facetools","ver":"0.2.1","Node name for S&R":"InstantIDFaceAnalysis","ttNbgOverride":{"groupcolor":"#444","color":"rgba(0,0,0,.8)"},"widget_ue_connectable":{}},"widgets_values":["CPU"]},{"id":286,"type":"SaveImage","pos":[526.4615478515625,-485.6408386230469],"size":[1208.654052734375,2022.46435546875],"flags":{},"order":40,"mode":0,"inputs":[{"label":"images","localized_name":"图片","name":"images","type":"IMAGE","link":614},{"localized_name":"文件名前缀","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.64","Node name for S&R":"SaveImage","widget_ue_connectable":{}},"widgets_values":["ComfyUI"]},{"id":95,"type":"WarpFacesBack","pos":[84.9719467163086,-422.5622253417969],"size":[262.5255126953125,138],"flags":{},"order":39,"mode":0,"inputs":[{"label":"images","localized_name":"images","name":"images","type":"IMAGE","link":612},{"label":"face","localized_name":"face","name":"face","type":"FACE","link":143},{"label":"crop","localized_name":"crop","name":"crop","type":"IMAGE","link":534},{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":578},{"label":"warp","localized_name":"warp","name":"warp","type":"WARP","link":146},{"localized_name":"has_face","name":"has_face","shape":7,"type":"BOOLEAN","widget":{"name":"has_face"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[614]}],"properties":{"cnr_id":"facetools","ver":"f223e594bf70e65524f8591650f5d6d46d0d8407","Node name for S&R":"WarpFacesBack","widget_ue_connectable":{}},"widgets_values":[true]},{"id":92,"type":"CropFaces","pos":[-2112.29638671875,19.949432373046875],"size":[218.7041015625,146],"flags":{},"order":18,"mode":0,"inputs":[{"label":"faces","localized_name":"faces","name":"faces","type":"FACE","link":140},{"localized_name":"crop_size","name":"crop_size","type":"INT","widget":{"name":"crop_size"},"link":null},{"localized_name":"crop_factor","name":"crop_factor","type":"FLOAT","widget":{"name":"crop_factor"},"link":null},{"localized_name":"mask_type","name":"mask_type","type":"COMBO","widget":{"name":"mask_type"},"link":null}],"outputs":[{"label":"crops","localized_name":"crops","name":"crops","type":"IMAGE","slot_index":0,"links":[138,416,446]},{"label":"masks","localized_name":"masks","name":"masks","type":"MASK","slot_index":1,"links":[141,580]},{"label":"warps","localized_name":"warps","name":"warps","type":"WARP","slot_index":2,"links":[146]}],"properties":{"cnr_id":"facetools","ver":"f223e594bf70e65524f8591650f5d6d46d0d8407","Node name for S&R":"CropFaces","widget_ue_connectable":{}},"widgets_values":[1024,1.1,"jonathandinu"]},{"id":91,"type":"DetectFaces","pos":[-2100.968505859375,257.271240234375],"size":[212.53839111328125,145.8429412841797],"flags":{},"order":14,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":611},{"label":"mask","localized_name":"mask","name":"mask","shape":7,"type":"MASK"},{"localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"localized_name":"min_size","name":"min_size","type":"INT","widget":{"name":"min_size"},"link":null},{"localized_name":"max_size","name":"max_size","type":"INT","widget":{"name":"max_size"},"link":null}],"outputs":[{"label":"faces","localized_name":"faces","name":"faces","type":"FACE","slot_index":0,"links":[140,143]},{"localized_name":"has_face","name":"has_face","type":"BOOLEAN","links":null}],"properties":{"cnr_id":"facetools","ver":"f223e594bf70e65524f8591650f5d6d46d0d8407","Node name for S&R":"DetectFaces","widget_ue_connectable":{}},"widgets_values":[0.5,128,1024]},{"id":246,"type":"KSampler","pos":[-1206.8319091796875,762.435791015625],"size":[210,474],"flags":{},"order":35,"mode":0,"inputs":[{"label":"model","localized_name":"模型","name":"model","type":"MODEL","link":615},{"label":"positive","localized_name":"正面条件","name":"positive","type":"CONDITIONING","link":546},{"label":"negative","localized_name":"负面条件","name":"negative","type":"CONDITIONING","link":547},{"label":"latent_image","localized_name":"Latent图像","name":"latent_image","type":"LATENT","link":572},{"localized_name":"种子","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"步数","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"采样器名称","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"调度器","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"降噪","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"label":"LATENT","localized_name":"Latent","name":"LATENT","type":"LATENT","slot_index":0,"links":[555]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"KSampler","widget_ue_connectable":{}},"widgets_values":[467884895069047,"randomize",20,1,"euler","sgm_uniform",0.5]},{"id":267,"type":"MaskFastGrow","pos":[-975.143798828125,17.779850006103516],"size":[242.77011108398438,178],"flags":{},"order":21,"mode":0,"inputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":580},{"localized_name":"invert_mask","name":"invert_mask","type":"BOOLEAN","widget":{"name":"invert_mask"},"link":null},{"localized_name":"grow","name":"grow","type":"INT","widget":{"name":"grow"},"link":null},{"localized_name":"blur","name":"blur","type":"INT","widget":{"name":"blur"},"link":null},{"localized_name":"low_limit","name":"low_limit","shape":7,"type":"FLOAT","widget":{"name":"low_limit"},"link":null},{"localized_name":"high_limit","name":"high_limit","shape":7,"type":"FLOAT","widget":{"name":"high_limit"},"link":null},{"localized_name":"enabled","name":"enabled","shape":7,"type":"BOOLEAN","widget":{"name":"enabled"},"link":null}],"outputs":[{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":0,"links":[578]}],"properties":{"cnr_id":"comfyui-utils-nodes","ver":"1.3.7","Node name for S&R":"MaskFastGrow","widget_ue_connectable":{}},"widgets_values":[false,72,40,0,1,true]},{"id":99,"type":"KSampler","pos":[-831.1959228515625,-499.284423828125],"size":[261.8017578125,474],"flags":{},"order":30,"mode":0,"inputs":[{"label":"model","localized_name":"模型","name":"model","type":"MODEL","link":452},{"label":"positive","localized_name":"正面条件","name":"positive","type":"CONDITIONING","link":151},{"label":"negative","localized_name":"负面条件","name":"negative","type":"CONDITIONING","link":152},{"label":"latent_image","localized_name":"Latent图像","name":"latent_image","type":"LATENT","link":153},{"localized_name":"种子","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"步数","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"采样器名称","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"调度器","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"降噪","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"label":"LATENT","localized_name":"Latent","name":"LATENT","type":"LATENT","slot_index":0,"links":[158]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"KSampler","widget_ue_connectable":{}},"widgets_values":[1082615953933944,"randomize",16,1,"euler","simple",1]},{"id":187,"type":"Image Comparer (rgthree)","pos":[-854.9602661132812,463.7823181152344],"size":[625.8340454101562,522.3134765625],"flags":{},"order":38,"mode":0,"inputs":[{"dir":3,"label":"image_a","name":"image_a","type":"IMAGE","link":586},{"dir":3,"label":"image_b","name":"image_b","type":"IMAGE","link":585}],"outputs":[],"properties":{"cnr_id":"rgthree-comfy","ver":"32142fe476878a354dda6e2d4b5ea98960de3ced","comparer_mode":"Slide","widget_ue_connectable":{}},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_btzct_00003_.png&type=temp&subfolder=&rand=0.38974909761874554"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_btzct_00004_.png&type=temp&subfolder=&rand=0.11139995803486025"}]]},{"id":247,"type":"CheckpointLoaderSimple","pos":[-2401.7236328125,769.3255615234375],"size":[315,98],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"Checkpoint名称","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"label":"MODEL","localized_name":"模型","name":"MODEL","type":"MODEL","slot_index":0,"links":[615]},{"label":"CLIP","localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[545,548]},{"label":"VAE","localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[554,556]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CheckpointLoaderSimple","widget_ue_connectable":{}},"widgets_values":["flux1-dev-fp8.safetensors"]},{"id":248,"type":"CLIPTextEncode","pos":[-1962.0247802734375,566.3189086914062],"size":[235.5220489501953,99.08740234375],"flags":{},"order":9,"mode":0,"inputs":[{"label":"clip","localized_name":"clip","name":"clip","type":"CLIP","link":545},{"localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[546]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":["woman"]},{"id":252,"type":"VAEEncode","pos":[-1560.4925537109375,543.82958984375],"size":[140,46],"flags":{"collapsed":true},"order":33,"mode":0,"inputs":[{"label":"pixels","localized_name":"像素","name":"pixels","type":"IMAGE","link":575},{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":554}],"outputs":[{"label":"LATENT","localized_name":"Latent","name":"LATENT","type":"LATENT","slot_index":0,"links":[571]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"VAEEncode","widget_ue_connectable":{}},"widgets_values":[]},{"id":101,"type":"VAEDecode","pos":[-1643.9205322265625,27.325775146484375],"size":[140,46],"flags":{"collapsed":true},"order":31,"mode":0,"inputs":[{"label":"samples","localized_name":"Latent","name":"samples","type":"LATENT","link":158},{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":159}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[356,575,586]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"VAEDecode","widget_ue_connectable":{}},"widgets_values":[]},{"id":85,"type":"ApplyInstantID","pos":[-1245.1513671875,-377.6492614746094],"size":[210,355.47412109375],"flags":{},"order":26,"mode":0,"inputs":[{"label":"instantid","localized_name":"instantid","name":"instantid","type":"INSTANTID","link":134},{"label":"insightface","localized_name":"insightface","name":"insightface","type":"FACEANALYSIS","link":135},{"label":"control_net","localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":136},{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":608},{"label":"model","localized_name":"model","name":"model","type":"MODEL","link":619},{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","link":147},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","link":148},{"label":"image_kps","localized_name":"image_kps","name":"image_kps","shape":7,"type":"IMAGE","link":138},{"label":"mask","localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"face_embed","name":"face_embed","shape":7,"type":"FACE_EMBEDS","link":null},{"localized_name":"weight","name":"weight","type":"FLOAT","widget":{"name":"weight"},"link":null},{"localized_name":"start_at","name":"start_at","type":"FLOAT","widget":{"name":"start_at"},"link":null},{"localized_name":"end_at","name":"end_at","type":"FLOAT","widget":{"name":"end_at"},"link":null}],"outputs":[{"label":"MODEL","localized_name":"模型","name":"MODEL","type":"MODEL","slot_index":0,"links":[452]},{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":1,"links":[130]},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":2,"links":[131]},{"localized_name":"face_embed","name":"face_embed","type":"FACE_EMBEDS","links":null},{"localized_name":"has_face","name":"has_face","type":"BOOLEAN","links":null}],"properties":{"cnr_id":"comfyui_sunxai_facetools","ver":"0.2.1","Node name for S&R":"ApplyInstantID","ttNbgOverride":{"groupcolor":"#444","color":"rgba(0,0,0,.8)"},"widget_ue_connectable":{}},"widgets_values":[1,0,1]},{"id":167,"type":"PreviewImage","pos":[-487.6864929199219,-477.8542785644531],"size":[332.7423400878906,467.8501892089844],"flags":{},"order":32,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":356}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":84,"type":"InpaintModelConditioning","pos":[-1192.87548828125,18.490449905395508],"size":[210,138],"flags":{},"order":29,"mode":0,"inputs":[{"label":"positive","localized_name":"正面条件","name":"positive","type":"CONDITIONING","link":130},{"label":"negative","localized_name":"负面条件","name":"negative","type":"CONDITIONING","link":131},{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":155},{"label":"pixels","localized_name":"像素","name":"pixels","type":"IMAGE","link":446},{"label":"mask","localized_name":"遮罩","name":"mask","type":"MASK","link":617},{"localized_name":"噪波遮罩","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null}],"outputs":[{"label":"positive","localized_name":"正面条件","name":"positive","type":"CONDITIONING","slot_index":0,"links":[151]},{"label":"negative","localized_name":"负面条件","name":"negative","type":"CONDITIONING","slot_index":1,"links":[152]},{"label":"latent","localized_name":"Latent","name":"latent","type":"LATENT","slot_index":2,"links":[153]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"InpaintModelConditioning","widget_ue_connectable":{}},"widgets_values":[true]},{"id":262,"type":"MaskComposite","pos":[-1073.2801513671875,259.0204162597656],"size":[210,126],"flags":{"collapsed":false},"order":27,"mode":0,"inputs":[{"label":"destination","localized_name":"目标","name":"destination","type":"MASK","link":568},{"label":"source","localized_name":"源","name":"source","type":"MASK","link":569},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"操作","name":"operation","type":"COMBO","widget":{"name":"operation"},"link":null}],"outputs":[{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":0,"links":[570,573,617]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"MaskComposite","widget_ue_connectable":{}},"widgets_values":[0,0,"subtract"]},{"id":93,"type":"MaskFastGrow","pos":[-1850.1505126953125,247.2240447998047],"size":[251.1967010498047,178],"flags":{},"order":20,"mode":0,"inputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":141},{"localized_name":"invert_mask","name":"invert_mask","type":"BOOLEAN","widget":{"name":"invert_mask"},"link":null},{"localized_name":"grow","name":"grow","type":"INT","widget":{"name":"grow"},"link":null},{"localized_name":"blur","name":"blur","type":"INT","widget":{"name":"blur"},"link":null},{"localized_name":"low_limit","name":"low_limit","shape":7,"type":"FLOAT","widget":{"name":"low_limit"},"link":null},{"localized_name":"high_limit","name":"high_limit","shape":7,"type":"FLOAT","widget":{"name":"high_limit"},"link":null},{"localized_name":"enabled","name":"enabled","shape":7,"type":"BOOLEAN","widget":{"name":"enabled"},"link":null}],"outputs":[{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","slot_index":0,"links":[566,567]}],"properties":{"cnr_id":"comfyui-utils-nodes","ver":"1.3.7","Node name for S&R":"MaskFastGrow","widget_ue_connectable":{}},"widgets_values":[false,8,4,0,1,true],"color":"#232","bgcolor":"#353"},{"id":96,"type":"CLIPTextEncode","pos":[-1994.15234375,-538.7760620117188],"size":[276.7395935058594,113.57412719726562],"flags":{"collapsed":false},"order":15,"mode":0,"inputs":[{"label":"clip","localized_name":"clip","name":"clip","type":"CLIP","link":620},{"localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[147]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":["女孩,girl,face,臉"]},{"id":97,"type":"CLIPTextEncode","pos":[-2042.2401123046875,-160.6808319091797],"size":[279.3474426269531,206.81541442871094],"flags":{},"order":16,"mode":0,"inputs":[{"label":"clip","localized_name":"clip","name":"clip","type":"CLIP","link":621},{"localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[148]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":["Drawing, comics, anime, cartoons, 3D，filthy，dirty，Deformed, ugly，Low quality"]},{"id":287,"type":"LoraLoader","pos":[-2095.949462890625,-350.7717590332031],"size":[270,126],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"模型","name":"model","type":"MODEL","link":618},{"localized_name":"CLIPCLIP","name":"clip","type":"CLIP","link":622},{"localized_name":"LoRA名称","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"模型强度","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null},{"localized_name":"CLIP强度","name":"strength_clip","type":"FLOAT","widget":{"name":"strength_clip"},"link":null}],"outputs":[{"localized_name":"模型","name":"MODEL","type":"MODEL","links":[619]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[620,621]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"LoraLoader"},"widgets_values":["pornmaster-asian beauty face-SDXL-V2.safetensors",1,1]},{"id":98,"type":"CheckpointLoaderSimple","pos":[-2542.5390625,-463.53057861328125],"size":[355.2599182128906,109.171630859375],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"Checkpoint名称","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"label":"MODEL","localized_name":"模型","name":"MODEL","type":"MODEL","slot_index":0,"links":[618]},{"label":"CLIP","localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[622]},{"label":"VAE","localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[155,159]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CheckpointLoaderSimple","widget_ue_connectable":{}},"widgets_values":["pornmaster_proSDXLV7.safetensors"]}],"links":[[130,85,1,84,0,"CONDITIONING"],[131,85,2,84,1,"CONDITIONING"],[134,86,0,85,0,"INSTANTID"],[135,87,0,85,1,"FACEANALYSIS"],[136,88,0,85,2,"CONTROL_NET"],[138,92,0,85,7,"IMAGE"],[140,91,0,92,0,"FACE"],[141,92,1,93,0,"MASK"],[143,91,0,95,1,"FACE"],[146,92,2,95,4,"WARP"],[147,96,0,85,5,"CONDITIONING"],[148,97,0,85,6,"CONDITIONING"],[151,84,0,99,1,"CONDITIONING"],[152,84,1,99,2,"CONDITIONING"],[153,84,2,99,3,"LATENT"],[155,98,2,84,2,"VAE"],[158,99,0,101,0,"LATENT"],[159,98,2,101,1,"VAE"],[356,101,0,167,0,"IMAGE"],[416,92,0,203,0,"IMAGE"],[446,92,0,84,3,"IMAGE"],[452,85,0,99,0,"MODEL"],[534,203,0,95,2,"IMAGE"],[545,247,1,248,0,"CLIP"],[546,248,0,246,1,"CONDITIONING"],[547,249,0,246,2,"CONDITIONING"],[548,247,1,249,0,"CLIP"],[554,247,2,252,1,"VAE"],[555,246,0,254,0,"LATENT"],[556,247,2,254,1,"VAE"],[566,93,0,260,0,"MASK"],[567,93,0,261,0,"MASK"],[568,260,0,262,0,"MASK"],[569,261,0,262,1,"MASK"],[570,262,0,263,0,"MASK"],[571,252,0,265,0,"LATENT"],[572,265,0,246,3,"LATENT"],[573,262,0,265,1,"MASK"],[575,101,0,252,0,"IMAGE"],[576,254,0,203,1,"IMAGE"],[578,267,0,95,3,"MASK"],[580,92,1,267,0,"MASK"],[585,254,0,187,1,"IMAGE"],[586,101,0,187,0,"IMAGE"],[597,280,0,277,0,"IMAGE"],[598,277,0,278,0,"INT"],[599,277,1,278,1,"INT"],[600,280,0,279,0,"IMAGE"],[601,282,0,281,0,"IMAGE"],[602,278,0,282,0,"IMAGE"],[603,279,0,282,1,"IMAGE"],[604,280,1,282,2,"MASK"],[605,271,0,280,0,"IMAGE"],[606,282,0,273,0,"IMAGE"],[608,273,0,85,3,"IMAGE"],[610,100,0,284,0,"IMAGE"],[611,284,0,91,0,"IMAGE"],[612,284,0,95,0,"IMAGE"],[614,95,0,286,0,"IMAGE"],[615,247,0,246,0,"MODEL"],[617,262,0,84,4,"MASK"],[618,98,0,287,0,"MODEL"],[619,287,0,85,4,"MODEL"],[620,287,1,96,0,"CLIP"],[621,287,1,97,0,"CLIP"],[622,98,1,287,1,"CLIP"]],"groups":[{"id":4,"title":"InstantID换脸","bounding":[-2366.2861328125,-620.1325073242188,2004.05517578125,561.6907348632812],"color":"#88A","font_size":24,"flags":{}},{"id":5,"title":"FLUE修复放大","bounding":[-2356.530517578125,427.96856689453125,1348.9149169921875,557.5999755859375],"color":"#88A","font_size":24,"flags":{}},{"id":6,"title":"匹配脸型","bounding":[-2349.747314453125,-37.367637634277344,2003.459228515625,448.81854248046875],"color":"#88A","font_size":24,"flags":{}},{"id":7,"title":"白底图","bounding":[-2364.052001953125,-1174.1251220703125,2000.400390625,539.2391967773438],"color":"#88A","font_size":24,"flags":{}},{"id":8,"title":"第②步：上传人脸图","bounding":[-3157.070556640625,-1173.3651123046875,768.4136352539062,1114.13623046875],"color":"#8AA","font_size":35,"flags":{}},{"id":9,"title":"第②步：上传写真图","bounding":[-3160.0087890625,-39.722320556640625,772.1326904296875,1024.2587890625],"color":"#8AA","font_size":35,"flags":{}},{"id":10,"title":"最终效果","bounding":[-341.238037109375,-1173.96826171875,1246.670654296875,2156.374755859375],"color":"#88A","font_size":35,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.4950000000000061,"offset":[3303.691813031955,1029.4303663302894]},"frontendVersion":"1.23.0","VHS_KeepIntermediate":true,"ue_links":[],"VHS_MetadataImage":true,"0246.VERSION":[0,0,4],"VHS_latentpreviewrate":0,"VHS_latentpreview":false,"node_versions":{"ComfyUI-utils-nodes":"bf8166892763f4a914443f909f3a790dfb23cff0","rgthree-comfy":"5d771b8b56a343c24a26e8cea1f0c87c3d58102f","comfyui_facetools":"dfa90ae487fb6ceeca71038e64c82eccf4d41c86","comfyui-mixlab-nodes":"4f45457811ea5d708fe34afe5a61517a88979557","ComfyUI_Comfyroll_CustomNodes":"d78b780ae43fcf8c6b7c6505e6ffb4584281ceca","comfy-core":"0.3.14","ComfyUI_InstantID":"1ef34ef573581bd9727c1e0ac05aa956b356a510","ComfyUI_essentials":"33ff89fd354d8ec3ab6affb605a79a931b445d99","ComfyUI-Easy-Use":"389387308538e2790b89457ccb555f8329c97e86"},"links_added_by_ue":[]},"version":0.4}